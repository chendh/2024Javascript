<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>質數列表</title>
    <script>
        function checkPrime() {
            let n = Number(document.getElementById("myNumber").value);
            let primes = [];
            var str = "質數列表：";

            if (isNaN(n) || n < 2) window.alert("請輸入一個大於2的數值")
            else { //檢查介於2~n之間的所有質數
                for (let i = 2; i <= n; i++) {
                    if (isPrime(i)) {
                        primes.push(i);
                        str += `<span style="color:red; border: 1px solid red; padding: 2px; font-weight: bold;">${i}</span>  `;
                    }
                    else str += `<span style="color:black; font-weight: bold;">${i}</span>  `;
                }
                str += "<br/>";

                str += "<h3>所有質數倍數的列表</h3>";
                //新增所有質數倍數的列表
                let cs = Math.trunc(360 / primes.length)

                for (let i = 0; i < primes.length; i++) {
                    str += `<span style="color:hsl(${i * cs}, 100%, 50%)">${primes[i]}的倍數： </span>`;
                    for (let j = primes[i]; j <= n; j += primes[i]) {
                        str += `<span style="color:hsl(${i * cs}, 100%, 50%)">${j}  </span>`;
                    }
                    str += "<br/>";
                }
                str += "<br/>";
            }
            document.getElementById("result").innerHTML = str;
        }

        function isPrime(num) {
            // 判斷num是否為質數
            for (let i = 2; i < num; i++) {
                if (num % i == 0) return false;
            }
            return true;
        }
    </script>
    <style>
        div {
            line-height: 1.8;
        }
    </style>
</head>

<body>
    <h1>請輸入一個數值：</h1>
    <input type="text" id="myNumber">
    <button onclick="checkPrime()">檢查</button>

    <div id="result"></div>
</body>

</html>